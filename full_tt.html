<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RVRJC CM-A Time Table</title>
    <style>
      html,
      body {
        height: 100%;
        margin: 0;
        display: flex;
        flex-direction: column;
      }

      .current {
        background: #d6f730c3;
      }

      table {
        width: 80%;
        margin: auto;
        border: 3px solid #000;
        text-align: center;
        box-sizing: border-box;
      }

      td,
      tr,
      th {
        padding: 5px;
        border: 2px solid black;
        font-family: sans-serif;
        font-size: 32px;
      }

      td:hover {
        background: #e8e1e1;
      }

      #time {
        text-align: center;
        font-family: sans-serif;
        font-size: 1.5rem;
      }

      @media screen and (max-width: 750px) {
        table {
          width: 100%;
          font-size: 14px;
        }
        td,
        th {
          padding: 3px;
          font-size: 14px;
        }
        #time {
          font-size: 1.2rem;
        }
      }

      @media screen and (max-width: 480px) {
        table {
          width: 100%;
          font-size: 12px;
        }
        td,
        th {
          padding: 2px;
          font-size: 12px;
        }
        #time {
          font-size: 1rem;
        }
      }

      footer {
        text-align: center;
        margin-top: auto;
        font-family: sans-serif;
        font-size: 1rem;
        color: #555;
        padding: 10px 0;
        background-color: #f1f1f1;
        width: 100%;
        box-sizing: border-box;
      }
    </style>
  </head>

  <body>
    <center><h1>Time Table</h1></center>

    <table>
      <tr>
        <th>Day</th>
        <th>10:00</th>
        <th>11:00</th>
        <th>12:00</th>
        <th>1:00</th>
        <th>2:00</th>
        <th>3:00</th>
        <th>4:00</th>
      </tr>

      <tr>
        <th id="1">Mon</th>
        <td id="1-10">CM314</td>
        <td id="1-11">LIB</td>
        <td id="1-12">CM313</td>
        <td rowspan="6" id="lunch">LUNCH</td>
        <td id="1-14">CM311</td>
        <td id="1-15">LIB</td>
        <td id="1-16">SPORTS</td>
      </tr>

      <tr>
        <th id="2">Tue</th>
        <td id="2-10">CM313</td>
        <td id="2-11">CM311</td>
        <td id="2-12">CM312</td>
        <td id="2-14">CM352</td>
        <td id="2-15">CM352</td>
        <td id="2-16">CM352</td>
      </tr>

      <tr>
        <th id="3">Wed</th>
        <td id="3-10">CM314</td>
        <td id="3-11">CM313</td>
        <td id="3-12">CM315</td>
        <td id="3-14">CM351</td>
        <td id="3-15">CM351</td>
        <td id="3-16">CM351</td>
      </tr>

      <tr>
        <th id="4">Thu</th>
        <td id="4-10">CM312</td>
        <td id="4-11">CM311</td>
        <td id="4-12">CM314</td>
        <td id="4-14">CM353</td>
        <td id="4-15">CM353</td>
        <td id="4-16">CM353</td>
      </tr>

      <tr>
        <th id="5">Fri</th>
        <td id="5-10">CM315</td>
        <td id="5-11">CM312</td>
        <td id="5-12">CM311</td>
        <td id="5-14">CM314</td>
        <td id="5-15">LIB</td>
        <td id="5-16">SPORTS</td>
      </tr>

      <tr>
        <th id="6">Sat</th>
        <td id="6-10">CM312</td>
        <td id="6-11">CM313</td>
        <td id="6-12">CM315</td>
        <td id="6-14">CMSL3</td>
        <td id="6-15">CMSL3</td>
        <td id="6-16">CMSL3</td>
      </tr>
    </table>

    <p id="time"></p>

    <footer>
      Made by
      <a href="https://nihargnv.github.io/portfolio/" target="_blank"
        >Nihar GNV</a
      >
    </footer>

    <script>
      const subNames = {
        "CM311": "Automata Theory & Formal Languages",
        "CM312": "Computer Networks",
        "CM313": "Data & Visual Analytics in AI",
        "CM314": "Cloud Computing (PE - I)",
        "CM315": "Internet of Things (OE - I)",
        "CM351": "Data & Visual Analytics Lab",
        "CM352": "Cloud Computing Lab",
        "CM353": "Summer Internship",
        "CMSL3": "Soft Skills",
        "LIB": "Library",
        "SPORTS": "Sports",
        "LUNCH": "Lunch Break"
      };

      function updateTimeAndHighlight() {
        const date = new Date();
        const weeks = {
          0: "Sun",
          1: "Mon",
          2: "Tue",
          3: "Wed",
          4: "Thu",
          5: "Fri",
          6: "Sat",
        };

        let toDay = date.getDay();
        let currentHour = date.getHours();
        let hourId = `${toDay}-${currentHour}`;
        let msg = "No Classes Scheduled at this time. Enjoy.";

        if (toDay === 0) {
          msg = "Sunday ra babu! ☺";
        } else if (currentHour === 13) {
          // Lunch at 1 PM
          hourId = "lunch";
          const cell = document.getElementById("lunch");
          if (cell) {
            msg = `Current Time: Lunch Break 🍱`;
            cell.classList.add("current");
          }
        } else if (currentHour >= 10 && currentHour <= 16) {
          const cell = document.getElementById(hourId);
          if (cell) {
            const val = cell.innerText.trim();
            const fullName = subNames[val] || val;
            msg = `Current Class: ${val} - ${fullName}`;
            cell.classList.add("current");
          }
        }

        // Highlight current day
        const dayCell = document.getElementById(`${toDay}`);
        if (dayCell) dayCell.classList.add("current");

        // Display time message
        document.getElementById("time").innerHTML = `${date.getDate()}:${
          date.getMonth() + 1
        }:${date.getFullYear() % 100}, ${weeks[toDay]} ${
          currentHour > 12 ? currentHour - 12 : currentHour
        }:${date.getMinutes().toString().padStart(2, "0")} ${
          currentHour >= 12 ? "PM" : "AM"
        } - ${msg}`;
      }

      updateTimeAndHighlight();
      setInterval(updateTimeAndHighlight, 10000);
    </script>
  </body>
</html>
